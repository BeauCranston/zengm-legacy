<div data-bind="dropdown: 'game-log'"></div>

<h1>Game Log <span data-bind="newWindow: []"></span></h1>
<p>More: <a data-bind="attrLeagueUrl: {href: ['roster', abbrev, season]}">Roster</a> | <a data-bind="attrLeagueUrl: {href: ['team_finances', abbrev]}">Finances</a> | <a data-bind="attrLeagueUrl: {href: ['team_history', abbrev]}">History</a></p>

<p>
<div class="row">
  <div class="col-md-9" id="box-score">
    <!-- ko if: showBoxScore -->
      <center>
        <h2><a data-bind="attrLeagueUrl: {href: ['roster', boxScore.won.abbrev, boxScore.season]}, text: boxScore.won.region() + ' ' + boxScore.won.name()"></a> <span data-bind="text: boxScore.won.pts"></span>, <a data-bind="attrLeagueUrl: {href: ['roster', boxScore.lost.abbrev, boxScore.season]}, text: boxScore.lost.region() + ' ' + boxScore.lost.name()"></a> <span data-bind="text: boxScore.lost.pts"></span><span data-bind="text: boxScore.overtime"></span></h2>
          <table>
          <tr><td>
            <a class="btn btn-default disabled" style="margin-right: 1em" data-bind="css: {disabled: boxScore.prevGid() === null}, attrLeagueUrl: {href: ['game_log', abbrev, season, boxScore.prevGid]}"">Prev</a>
          </td><td>
            <table class="table table-bordered" style="margin-top: 0.5em; width: auto; float: left">
              <tbody data-bind="foreach: boxScore.teams">
                <th><a data-bind="attrLeagueUrl: {href: ['roster', abbrev, $root.boxScore.season]}, text: abbrev"></a></th>
                <!-- ko foreach: ptsQtrs -->
                  <td data-bind="text: $data"></td>
                <!-- /ko -->
                <th data-bind="text: pts"></th>
              </tbody>
            </table>
          </td><td>
            <a class="btn btn-default disabled" style="margin-left: 1em" data-bind="css: {disabled: boxScore.nextGid() === null}, attrLeagueUrl: {href: ['game_log', abbrev, season, boxScore.nextGid]}">Next</a>
          </td></tr>
      </center>
	  
     <center>	  
        <table class="table table-bordered" style="margin-top: 0.5em; width: auto">

		<tbody> 
        <tr> <th>  </th> <th> <a data-bind="text: boxScore.teams()[0].abbrev"></a></th><th> <a data-bind=" text: boxScore.teams()[1].abbrev"></a></th></tr>
        <tr><th> Total Yards </th> <td data-bind="text: boxScore.teams()[0].ty"></td> <td data-bind="text: boxScore.teams()[1].ty"> </td></tr>
        <tr><th> Total Plays </th> <td data-bind="text: boxScore.teams()[0].prp"></td> <td data-bind="text: boxScore.teams()[1].prp"></td></tr>
        <tr><th> First Downs - Total  </th> <td data-bind="text: boxScore.teams()[0].fdt"></td> <td data-bind="text: boxScore.teams()[1].fdt"></td></tr>
        <tr><th> First Downs - Passing  </th> <td data-bind="text: boxScore.teams()[0].fdp"></td> <td data-bind="text: boxScore.teams()[1].fdp"></td></tr>
        <tr><th> First Downs - Rushing  </th> <td data-bind="text: boxScore.teams()[0].fdr"></td> <td data-bind="text: boxScore.teams()[1].fdr"></td></tr>
    <tr><th> 3rd Down Efficiency </th><td data-bind="text: boxScore.teams()[0].tdf() + ' / ' + boxScore.teams()[0].tda()"></td>  <td data-bind="text: boxScore.teams()[1].tdf() + ' / ' + boxScore.teams()[1].tda()"></td></tr> 
        <tr><th> Passing Yards </th><td data-bind="text: boxScore.teams()[0].stl"></td>  <td data-bind="text: boxScore.teams()[1].stl"></td></tr>
    <tr><th> Pass/Attempts </th><td data-bind="text: boxScore.teams()[0].fg() + ' / ' + boxScore.teams()[0].fga()"></td>  <td data-bind="text: boxScore.teams()[1].fg() + ' / ' + boxScore.teams()[1].fga()"></td></tr> 
        <tr> <th> Passing TD </th> <td data-bind="text: boxScore.teams()[0].blk"></td><td data-bind="text: boxScore.teams()[1].blk"> </td></tr>
    <tr><th> Sacks/Yards Lost </th><td data-bind="text: boxScore.teams()[0].tp() + ' / ' + boxScore.teams()[0].syl()"></td>  <td data-bind="text: boxScore.teams()[1].tp() + ' / ' + boxScore.teams()[1].syl()"></td></tr> 
        <tr><th> Rushing Yards </th> <td data-bind="text: boxScore.teams()[0].drb"></td> <td data-bind="text: boxScore.teams()[1].drb"></td></tr>
        <tr><th> Rushes </th><td data-bind="text: boxScore.teams()[0].tov"></td>  <td data-bind="text: boxScore.teams()[1].tov"></td></tr>
        <tr> <th> Rushing TD </th> <td data-bind="text: boxScore.teams()[0].ft"></td><td data-bind="text: boxScore.teams()[1].ft"></td></tr>
        <tr> <th> Interceptions </th> <td data-bind="text: boxScore.teams()[0].inter"></td><td data-bind="text: boxScore.teams()[1].inter"> </td></tr>
        <tr> <th> Fumbles Lost </th> <td data-bind="text: boxScore.teams()[0].fbl"></td><td data-bind="text: boxScore.teams()[1].fbl"> </td></tr>
    <tr><th> Red Zone (TD/Attempt) </th><td data-bind="text: boxScore.teams()[0].rztd() + ' / ' + boxScore.teams()[0].rza()"></td>  <td data-bind="text: boxScore.teams()[1].rztd() + ' / ' + boxScore.teams()[1].rza()"></td></tr> 
		</tbody>   

        </table>
	</center>	  
  
      <!-- ko foreach: boxScore.teams -->
        <h3><a data-bind="attrLeagueUrl: {href: ['roster', abbrev, $root.boxScore.season]}, text: region() + ' ' + name()"></a></h2>
        <div class="table-responsive">
          <table class="table table-striped table-bordered table-condensed box-score-team">
		  
		  
            <thead>
             <tr><th>Passing</th></tr>
              <tr><th>Name</th><th>Pos</th><th>Passes/PA</th><th>Passing Yards</th><th>TD</th><th>Sacks/Yards Lost</th><th>Int</th><th>Fmb</th></tr>
            </thead>
            <tbody data-bind="foreach: players">
               <tr data-bind="if: fga ">			  
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: fg() + '-' + fga()"></td>
                <td data-bind="text: stl"></td>
                <td data-bind="text: blk"></td>
                <td data-bind="text: tp() + '-' + syl()"></td>
                <td data-bind="text: inter"></td>
                <td data-bind="text: fbl"></td>


              </tr>				
            </tbody>
            <tbody>
              <tr>
                <td>Total</td>
                <td></td>
                <td data-bind="text: fg() + '-' + fga()"></td>
                <td data-bind="text: stl"></td>
                <td data-bind="text: blk"></td>
                <td data-bind="text: tp() + '-' + syl()"></td>
                <td data-bind="text: inter"></td>
                <td data-bind="text: fbl"></td>
				
              </tr>
            </tbody>
			
            <thead>
              <tr><th>Rushing</th></tr>
              <tr><th>Name</th><th>Pos</th><th>Rushes</th><th>RushYards</th><th>TD</th><th>Fmb</th></tr>
            </thead>
            <tbody data-bind="foreach: players">
			  
               <tr data-bind="if: tov ">			  
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: tov"></td>
                <td data-bind="text: drb"></td>
                <td data-bind="text: ft"></td>
                <td data-bind="text: fbl"></td>
              </tr>
            </tbody>
            <tbody>
              <tr>
                <td>Total</td>
                <td></td>
                <td data-bind="text: tov"></td>
                <td data-bind="text: drb"></td>
                <td data-bind="text: ft"></td>
                <td data-bind="text: fbl"></td>
              </tr>
            </tbody>	

            <thead>
              <tr><th>Receiving</th></tr>
              <tr><th>Name</th><th>Pos</th><th>Receptions</th><th>RecYards</th><th>TD</th><th>TGTS</th><th>Fmb</th></tr>
            </thead>
            <tbody data-bind="foreach: players">
			  
               <tr data-bind="if: tgts ">			  
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: ast"></td>
                <td data-bind="text: orb"></td>
                <td data-bind="text: pf"></td>
                <td data-bind="text: tgts"></td>
                <td data-bind="text: fbl"></td>
				
              </tr>
            </tbody>

            <tbody>
              <tr>
                <td>Total</td>
                <td></td>
                <td data-bind="text: ast"></td>
                <td data-bind="text: orb"></td>
                <td data-bind="text: pf"></td>
                <td data-bind="text: tgts"></td>
                <td data-bind="text: fbl"></td>
				
              </tr>
            </tbody>			
			
            <thead>
              <tr><th>Offensive Line</th></tr>
              <tr><th>Name</th><th>Pos</th><th>Sacks Allowed</th><th>Lead Blocker</th><th>Rush Yards</th><th>Pass Attempts</th><th>Pass Yards</th><th>Total Plays</th></tr>
            </thead>
            <tbody data-bind="foreach: players">
			  
               <tr data-bind="if: olrp ">			  
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: ols"></td>
                <td data-bind="text: olr"></td>
                <td data-bind="text: olry"></td>
                <td data-bind="text: olp"></td>
                <td data-bind="text: olpy"></td>
                <td data-bind="text: olc"></td>
				
              </tr>
            </tbody>						
            <tbody>
              <tr>
                <td>Total</td>
                <td></td>
                <td data-bind="text: ols"></td>
                <td data-bind="text: olr"></td>				
                <td data-bind="text: olry"></td>
                <td data-bind="text: olp"></td>
                <td data-bind="text: olpy"></td>				
              </tr>
            </tbody>							
						
          <thead>
              <tr><th >Kicking/Punting</th></tr>
              <tr><th>Name</th><th>Pos</th><th>FG</th><th>FG (0-19)</th><th>FG (20-29)</th><th>FG (30-39)</th><th>FG (40-49)</th><th>FG (50+)</th><th>EP</th><th>Punts</th><th>Total Yards</th><th>Touchbacks</th></tr>
            </thead>
            <tbody data-bind="foreach: players">
			  
               <tr data-bind="if: puntl ">			  
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: fgAtRim() + '-' + fgaAtRim()"></td>
                <td data-bind="text: fldgze() + '-' + fldgzea()"></td>
                <td data-bind="text: fldgtw() + '-' + fldgtwa()"></td>
                <td data-bind="text: fldgth() + '-' + fldgtha()"></td>
                <td data-bind="text: fldgfo() + '-' + fldgfoa()"></td>
                <td data-bind="text: fldgfi() + '-' + fldgfia()"></td>				
                <td data-bind="text: fgLowPost() + '-' + fgaLowPost()"></td>
                <td data-bind="text: punta"></td>							
                <td data-bind="text: puntty"></td>		
                <td data-bind="text: punttb"></td>							
				
              </tr>
            </tbody>
            <tbody>
              <tr>
                <td>Total</td>
                <td></td>
                <td data-bind="text: fgAtRim() + '-' + fgaAtRim()"></td>
                <td data-bind="text: fldgze() + '-' + fldgzea()"></td>
                <td data-bind="text: fldgtw() + '-' + fldgtwa()"></td>
                <td data-bind="text: fldgth() + '-' + fldgtha()"></td>
                <td data-bind="text: fldgfo() + '-' + fldgfoa()"></td>
                <td data-bind="text: fldgfi() + '-' + fldgfia()"></td>				
                <td data-bind="text: fgLowPost() + '-' + fgaLowPost()"></td>
                <td data-bind="text: punta"></td>							
                <td data-bind="text: puntty"></td>	
                <td data-bind="text: punttb"></td>							
				
              </tr>
            </tbody>


         <thead>
              <tr><th>Defense</th></tr>
              <tr><th>Name</th><th>Pos</th><th>Tackles</th><th>Sacks</th><th>Rushes At</th><th>Rush Yards</th><th>Passes At</th><th>Pass Yards</th><th>Interceptions</th><th>Total Plays</th></tr>
             </thead>
            <tbody data-bind="foreach: players">
			  
               <tr data-bind="if: fgMidRange ">			  
                <td data-bind="playerNameLabels: [pid, name, injury, skills]"></td>
                <td data-bind="text: pos"></td>
                <td data-bind="text: fgMidRange"></td>
                <td data-bind="text: fgaMidRange"></td>
                <td data-bind="text: der"></td>
                <td data-bind="text: dery"></td>
                <td data-bind="text: dep"></td>
                <td data-bind="text: depy"></td>
                <td data-bind="text: intery"></td>
                <td data-bind="text: dec"></td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td>Total</td>
                <td></td>
                <td data-bind="text: fgMidRange"></td>
                <td data-bind="text: fgaMidRange"></td>
                <td data-bind="text: der"></td>
                <td data-bind="text: dery"></td>
                <td data-bind="text: dep"></td>
                <td data-bind="text: depy"></td>
                <td data-bind="text: intery"></td>
              </tr>
            </tfoot>	
 
			
          </table>
        </div> 
      <!-- /ko -->
      <br>
      <p>Attendance: <span data-bind="numberWithCommas: boxScore.att"></span></p>
    <!-- /ko -->
    <p data-bind="visible: !showBoxScore()">Select a game from the menu to view a box score.</p>
  </div>

  <div class="col-md-3" id="game-log-list">
    <table id="game_log_list" class="table table-striped table-bordered table-condensed">
    <thead>
      <tr><th>Opp</th><th>W/L</th><th>Score</th></tr>
    </thead>
    <tbody data-bind="foreach: gamesList.games">
      <tr data-bind="css: {info: gid === $root.boxScore.gid()}">
        <td><a data-bind="attrLeagueUrl: {href: ['game_log', $root.abbrev, $root.season, gid]}, text: (home ? '' : '@') + oppAbbrev"></a></td>
        <td><a data-bind="attrLeagueUrl: {href: ['game_log', $root.abbrev, $root.season, gid]}, text: won ? 'W' : 'L'"></a></td>
        <td><a data-bind="attrLeagueUrl: {href: ['game_log', $root.abbrev, $root.season, gid]}, text: pts + '-' + oppPts + overtime"></a></td>
      </tr>
    </tbody>
    <tr data-bind="visible: gamesList.loading"><td colspan="3" style="padding: 4px 5px;">Loading...</td></tr>
    </table>
  </div>
</div>
</p>
